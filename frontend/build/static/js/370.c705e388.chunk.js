"use strict";(self.webpackChunkblogie=self.webpackChunkblogie||[]).push([[370],{3068:(s,e,r)=>{r.d(e,{Z:()=>o});var a=r(1134),t=r(2791),n=r(2901),i=r(5218),l=r(184);const o=function(s){let{email:e}=s;const{register:r,handleSubmit:o,watch:d,reset:c,formState:u}=(0,a.cI)(),m=(0,t.useRef)({});m.current=d("newPassword","");const[h,x]=(0,t.useState)(!1);return(0,l.jsxs)("form",{className:"auth-form t-form",onSubmit:o((async s=>{x(!0),await n.Z.settingsResetPassword(e,s.currentPassword,s.newPassword).then((s=>{if("SUCCESS"===s.data.status)return i.ZP.success(s.data.response),void c({currentPassword:"",newPassword:"",cpassword:""})}),(s=>{s.response?i.ZP.error(s.response.data.response):i.ZP.error("Failed to change password: Try again later!")})),x(!1)})),children:[(0,l.jsxs)("div",{className:"input-box",children:[(0,l.jsx)("label",{children:"Current Password"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"password",...r("currentPassword",{required:"Current password is required!",minLength:{value:8,message:"Password must have atleast 8 characters"}})}),u.errors.currentPassword&&(0,l.jsx)("small",{children:u.errors.currentPassword.message})]}),(0,l.jsxs)("div",{className:"input-box",children:[(0,l.jsx)("label",{children:"Password"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"password",...r("newPassword",{required:"Password is required!",minLength:{value:8,message:"Password must have atleast 8 characters"}})}),u.errors.newPassword&&(0,l.jsx)("small",{children:u.errors.newPassword.message})]}),(0,l.jsxs)("div",{className:"input-box",children:[(0,l.jsx)("label",{children:"Confirm Password"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"password",...r("cpassword",{required:"Confirm password is required!",minLength:{value:8,message:"Password must have atleast 8 characters"},validate:s=>s===m.current||"Passwords do not match!"})}),u.errors.cpassword&&(0,l.jsx)("small",{children:u.errors.cpassword.message})]}),(0,l.jsx)("div",{className:"t-btn input-box",children:(0,l.jsx)("input",{type:"submit",value:h?"Updating...":"Update password",className:h?"button button-fill loading":"button button-fill"})})]})}},3041:(s,e,r)=>{r.d(e,{Z:()=>l});var a=r(4353),t=r(5366),n=r(2173),i=r(184);const l=function(s){let{username:e,email:r}=s;const[l,o,d,c]=(0,t.Z)();return(0,i.jsx)("div",{className:"profile",style:{maxWidth:"400px",flexDirection:"column",justifyContent:"center",padding:"25px"},children:o?(0,i.jsx)(n.Z,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"profile-img",children:[!l&&(0,i.jsx)("img",{src:a,width:140,height:140,alt:"user"}),l&&(0,i.jsx)("img",{src:l,width:140,height:140,alt:"user"}),(0,i.jsxs)("div",{className:"action",children:[l&&(0,i.jsx)("label",{onClick:c,children:"Remove image"}),(0,i.jsxs)("label",{children:["Change image",(0,i.jsx)("input",{type:"file",onChange:async s=>{const e=s.target.files[0];e&&e.size>10485760||await d(e)},accept:".jpg, .jpeg, .png"})]})]})]}),(0,i.jsxs)("div",{style:{alignItems:"center"},children:[(0,i.jsx)("h3",{style:{color:"var(--text)"},children:e}),(0,i.jsx)("p",{children:r})]})]})})}},370:(s,e,r)=>{r.r(e),r.d(e,{default:()=>u});var a=r(2791),t=r(6457),n=r(3041),i=r(5975),l=r(3068),o=r(1637),d=r(5218),c=r(184);const u=function(){const[s,e]=(0,a.useState)(""),[r,u]=(0,a.useState)("");return(0,a.useEffect)((()=>{const s=t.Z.getCurrentUser();s&&(e(s.email),u(s.username))}),[]),(0,c.jsxs)(o.Z,{activeNavId:3,children:[(0,c.jsx)(i.Z,{title:"Settings"}),(0,c.jsx)(d.x7,{}),(0,c.jsx)(n.Z,{username:r,email:s}),(0,c.jsx)(l.Z,{email:s})]})}}}]);
//# sourceMappingURL=370.c705e388.chunk.js.map