"use strict";(self.webpackChunkblogie=self.webpackChunkblogie||[]).push([[222],{3496:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var r=t(2791),s=t(5975),n=t(1134),i=t(2170),o=t(7689),c=t(1087),l=t(1637),d=t(5218),g=t(184);const u=function(){const{categoryId:e}=(0,o.UO)(),{register:a,handleSubmit:t,reset:u,formState:p}=(0,n.cI)(),[m,y]=(0,r.useState)(!1),h=(0,o.s0)();return(0,r.useEffect)((()=>{const a=JSON.parse(localStorage.getItem("categoryToEdit"));a.categoryId==e?u({cname:a.categoryName,type:String(a.transactionType.transactionTypeId)}):d.ZP.error("Faild to fetch category information!"),localStorage.removeItem("categoryToEdit")}),[u,e]),(0,g.jsxs)(l.Z,{activeNavId:6,children:[(0,g.jsx)(s.Z,{title:"Edit category"}),(0,g.jsx)(d.x7,{}),(0,g.jsxs)("form",{className:"auth-form t-form",onSubmit:t((async a=>{y(!0),await i.Z.updatecategory(e,a.cname,a.type).then((e=>{"SUCCESS"===e.data.status&&h("/admin/categories")}),(e=>{e.response,d.ZP.error("Failed to update category: Try again later!")})),y(!1)})),style:{marginTop:"25px"},children:[(0,g.jsxs)("div",{className:"input-box",children:[(0,g.jsx)("label",{children:"Category name"}),(0,g.jsx)("br",{}),(0,g.jsx)("input",{type:"text",...a("cname",{required:"Category name is required!",maxLength:{value:30,message:"Category name can have atmost 30 characters!"}})}),p.errors.cname&&(0,g.jsx)("small",{children:p.errors.cname.message})]}),(0,g.jsxs)("div",{className:"input-box",children:[(0,g.jsx)("label",{children:"Transaction type"}),(0,g.jsx)("br",{}),(0,g.jsxs)("div",{className:"radio",children:[(0,g.jsx)("span",{children:(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"radio",id:1,value:1,...a("type",{required:"Transaction type is required!"})}),"Expense"]})}),(0,g.jsx)("span",{children:(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"radio",id:2,value:2,...a("type",{required:"Transaction type is required!"})}),"Income"]})})]}),p.errors.type&&(0,g.jsx)("small",{children:p.errors.type.message})]}),(0,g.jsxs)("div",{className:"input-box",children:[(0,g.jsx)("input",{type:"submit",value:m?"Saving...":"Save category",className:m?"button button-fill loading":"button button-fill"}),(0,g.jsx)(c.rU,{to:"/admin/categories",className:"button outline",children:(0,g.jsx)("span",{children:"Cancel"})})]})]})]})}},2170:(e,a,t)=>{t.d(a,{Z:()=>i});var r=t(5294),s=t(6457),n=t(7081);const i={getAllTransactions:(e,a,t)=>r.Z.get(n.Z+"/transaction/getAll",{headers:s.Z.authHeader(),params:{pageNumber:e,pageSize:a,searchKey:t}}),getAllUsers:(e,a,t)=>r.Z.get(n.Z+"/user/getAll",{headers:s.Z.authHeader(),params:{pageNumber:e,pageSize:a,searchKey:t}}),disableOrEnableUser:e=>r.Z.delete(n.Z+"/user/disable",{headers:s.Z.authHeader(),params:{userId:e}}),getAllcategories:()=>r.Z.get(n.Z+"/category/getAll",{headers:s.Z.authHeader()}),addNewcategory:(e,a)=>r.Z.post(n.Z+"/category/new",{categoryName:e,transactionTypeId:a},{headers:s.Z.authHeader()}),updatecategory:(e,a,t)=>r.Z.put(n.Z+"/category/update",{categoryName:a,transactionTypeId:t},{headers:s.Z.authHeader(),params:{categoryId:e}}),disableOrEnableCategory:e=>r.Z.delete(n.Z+"/category/delete",{headers:s.Z.authHeader(),params:{categoryId:e}})}}}]);
//# sourceMappingURL=222.ee521c94.chunk.js.map