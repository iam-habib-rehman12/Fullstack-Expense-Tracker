"use strict";(self.webpackChunkblogie=self.webpackChunkblogie||[]).push([[773],{6692:(e,a,t)=>{t.d(a,{Z:()=>n});var s=t(2791),r=t(184);const n=(0,s.memo)((e=>{let{info:a,onPrevClick:t,onNextClick:s,pageNumber:n,noOfPages:l}=e;return(0,r.jsxs)("div",{className:"page-info",children:[(0,r.jsx)("span",{children:a}),(0,r.jsx)("button",{onClick:t,className:0==n?"disable":"",children:(0,r.jsx)("i",{class:"fa fa-caret-left","aria-hidden":"true"})}),(0,r.jsx)("button",{onClick:s,className:n+1==l?"disable":"",children:(0,r.jsx)("i",{class:"fa fa-caret-right","aria-hidden":"true"})})]})}))},2928:(e,a,t)=>{t.d(a,{Z:()=>n});var s=t(2791),r=t(184);const n=(0,s.memo)((e=>{let{onChange:a,placeholder:t}=e;return(0,r.jsx)("input",{type:"text",placeholder:t,onChange:e=>a(e.target.value)})}))},2770:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(2791);const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[a,t]=(0,s.useState)(0),[r,n]=(0,s.useState)(1),[l,d]=(0,s.useState)(0),[o,i]=(0,s.useState)(e),[c,h]=(0,s.useState)("DESC"),[u,g]=(0,s.useState)("");return{pageSize:10,pageNumber:a,noOfPages:r,sortField:o,sortDirec:c,searchKey:u,onNextClick:()=>{t(a+1)},onPrevClick:()=>{0!==a&&t(a-1)},setNoOfPages:n,setNoOfRecords:d,setSortField:i,setSortDirec:h,setSearchKey:g,getPageInfo:()=>{const e=a+1===r?l:10*a+10;return String(10*a+1)+" to "+String(e)+" of "+String(l)+" records"}}}},4773:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var s=t(2791),r=t(2170),n=t(5975),l=t(2173),d=t(2770),o=t(2928),i=t(6692),c=t(7550),h=t(1637),u=t(5218),g=t(184);const x=function(){const[e,a]=(0,s.useState)([]),[t,x]=(0,s.useState)(!0),{pageSize:f,pageNumber:Z,noOfPages:b,searchKey:y,onNextClick:S,onPrevClick:m,setNoOfPages:N,setNoOfRecords:C,setSearchKey:k,getPageInfo:P}=(0,d.Z)();return(0,s.useEffect)((()=>{(async()=>{await r.Z.getAllUsers(Z,f,y).then((e=>{if("SUCCESS"===e.data.status)return a(e.data.response.data),N(e.data.response.totalNoOfPages),void C(e.data.response.totalNoOfRecords);u.ZP.error("Failed to fetch all users: Try again later!")}),(e=>{u.ZP.error("Failed to fetch all users: Try again later!")})),x(!1)})()}),[y,Z]),(0,g.jsxs)(h.Z,{activeNavId:5,children:[(0,g.jsx)(n.Z,{title:"Users"}),(0,g.jsx)(u.x7,{}),t&&(0,g.jsx)(l.Z,{}),!t&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"utils page",children:[(0,g.jsx)(o.Z,{onChange:e=>k(e),placeholder:"Search users"}),(0,g.jsx)(i.Z,{info:P(),onPrevClick:m,onNextClick:S,pageNumber:Z,noOfPages:b})]}),0===e.length&&(0,g.jsx)(c.Z,{text:"No transactions found!"}),0!==e.length&&(0,g.jsxs)("table",{children:[(0,g.jsx)(p,{}),(0,g.jsx)(j,{data:e,disableOrEnable:async e=>{await r.Z.disableOrEnableUser(e).then((e=>{"SUCCESS"!==e.data.status?u.ZP.error("Failed to update user: Try again later!"):window.location.reload()}),(e=>{u.ZP.error("Failed to update user: Try again later!")}))}})]})]})]})};function p(){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"User Id"})," ",(0,g.jsx)("th",{children:"Username"})," ",(0,g.jsx)("th",{children:"Email"}),(0,g.jsx)("th",{children:"Tot. Expense(Rs.)"})," ",(0,g.jsx)("th",{children:"Tot. Income(Rs.)"}),(0,g.jsx)("th",{children:"Tot. No. Transactions"})," ",(0,g.jsx)("th",{children:"Status"})," ",(0,g.jsx)("th",{children:"Action"})]})}function j(e){let{data:a,disableOrEnable:t}=e;return a.map((e=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"U"+String(e.id).padStart(5,"0")}),(0,g.jsx)("td",{children:e.username}),(0,g.jsx)("td",{children:e.email}),(0,g.jsxs)("td",{children:["Rs. ",e.expense||0]}),(0,g.jsxs)("td",{children:["Rs. ",e.income||0]}),(0,g.jsx)("td",{children:e.noOfTransactions||0}),e.enabled?(0,g.jsx)("td",{style:{color:"#6aa412"},children:"Enabled"}):(0,g.jsx)("td",{style:{color:"#ff0000"},children:"Disabled"}),(0,g.jsx)("td",{children:e.enabled?(0,g.jsx)("button",{onClick:()=>t(e.id),style:{backgroundColor:"#ff0000"},children:"Disable"}):(0,g.jsx)("button",{onClick:()=>t(e.id),style:{backgroundColor:"#6aa412"},children:"Enable"})})]},e.id)))}},2170:(e,a,t)=>{t.d(a,{Z:()=>l});var s=t(5294),r=t(6457),n=t(7081);const l={getAllTransactions:(e,a,t)=>s.Z.get(n.Z+"/transaction/getAll",{headers:r.Z.authHeader(),params:{pageNumber:e,pageSize:a,searchKey:t}}),getAllUsers:(e,a,t)=>s.Z.get(n.Z+"/user/getAll",{headers:r.Z.authHeader(),params:{pageNumber:e,pageSize:a,searchKey:t}}),disableOrEnableUser:e=>s.Z.delete(n.Z+"/user/disable",{headers:r.Z.authHeader(),params:{userId:e}}),getAllcategories:()=>s.Z.get(n.Z+"/category/getAll",{headers:r.Z.authHeader()}),addNewcategory:(e,a)=>s.Z.post(n.Z+"/category/new",{categoryName:e,transactionTypeId:a},{headers:r.Z.authHeader()}),updatecategory:(e,a,t)=>s.Z.put(n.Z+"/category/update",{categoryName:a,transactionTypeId:t},{headers:r.Z.authHeader(),params:{categoryId:e}}),disableOrEnableCategory:e=>s.Z.delete(n.Z+"/category/delete",{headers:r.Z.authHeader(),params:{categoryId:e}})}}}]);
//# sourceMappingURL=773.c66d2332.chunk.js.map