"use strict";(self.webpackChunkblogie=self.webpackChunkblogie||[]).push([[770],{5770:(e,s,i)=>{i.r(s),i.d(s,{default:()=>r});var n=i(2791),t=i(7689),a=i(1134),o=i(6457),l=i(184);const r=()=>{const e=(0,t.s0)(),{email:s}=(0,t.UO)(),{register:i,handleSubmit:r,formState:c}=(0,a.cI)(),[d,m]=(0,n.useState)(""),[h,u]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1);return(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("form",{className:"auth-form",onSubmit:r((async s=>{u(!0);await o.Z.verifyRegistrationVerificationCode(s.code).then((s=>{console.log(s.data),"SUCCESS"===s.data.status?(console.log(s.data),e("/auth/success-registration"),m("")):m("Verification failed: Cannot resend email!")}),(e=>{if(e.response){const s=e.response.data.response;m(s),console.log(e)}else console.log(e),m("Verification failed: Cannot resend email!")}));u(!1)})),children:[(0,l.jsx)("h2",{children:"Verify your email"}),(0,l.jsx)("br",{}),g?(0,l.jsxs)("div",{className:"msg",children:["Sending email to ",s,"..."]}):""===d?(0,l.jsxs)("div",{className:"msg",children:["The verification code has been sent to ",(0,l.jsx)("span",{style:{fontWeight:600,color:"green"},children:s}),"."]}):(0,l.jsx)(l.Fragment,{}),""!==d&&(0,l.jsx)("p",{children:d}),(0,l.jsxs)("div",{className:"input-box",children:[(0,l.jsx)("input",{placeholder:"Enter verification code",type:"text",...i("code",{required:"Code is required!"})}),c.errors.code&&(0,l.jsx)("small",{children:c.errors.code.message})]}),(0,l.jsx)("div",{className:"msg",style:{fontWeight:600,fontStyle:"italic"},children:"Please not that the verification code will be expired with in 15 minutes!"}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{className:"input-box",children:(0,l.jsx)("input",{type:"submit",value:h?"Verifying":"Verify",className:h?"button button-fill loading":"button button-fill"})}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"msg",children:["Having problems? ",(0,l.jsx)("span",{style:{cursor:"pointer"},onClick:async()=>{f(!0);await o.Z.resendRegistrationVerificationCode(s).then((e=>{console.log(e.data.message),m("")}),(e=>{m("cannot send email again!")}));f(!1)},className:"inline-link",children:h?"Sending code":"Resend code"})]})]})})}}}]);
//# sourceMappingURL=770.b3f4d727.chunk.js.map