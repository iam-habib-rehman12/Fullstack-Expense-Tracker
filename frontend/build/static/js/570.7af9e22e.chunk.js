"use strict";(self.webpackChunkblogie=self.webpackChunkblogie||[]).push([[570],{5570:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var s=a(2170),r=a(5975),o=a(2173),d=a(1405),i=a(7689),l=a(7550),n=a(1637),c=a(5218),u=(a(2791),(e,t)=>(e=>"function"==typeof e)(e)?e(t):e),g=(()=>{let e=0;return()=>(++e).toString()})(),h=((()=>{let e})(),new Map),p=e=>{if(h.has(e))return;let t=setTimeout((()=>{h.delete(e),x({type:4,toastId:e})}),1e3);h.set(e,t)},y=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=h.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:a}=t;return e.toasts.find((e=>e.id===a.id))?y(e,{type:1,toast:a}):y(e,{type:0,toast:a});case 3:let{toastId:s}=t;return s?p(s):e.toasts.forEach((e=>{p(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===s||void 0===s?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+r})))}}},b=[],m={toasts:[],pausedAt:void 0},x=e=>{m=y(m,e),b.forEach((e=>{e(m)}))},Z=e=>(t,a)=>{let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",a=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(null==a?void 0:a.id)||g()}}(t,e,a);return x({type:2,toast:s}),s.id},j=(e,t)=>Z("blank")(e,t);j.error=Z("error"),j.success=Z("success"),j.loading=Z("loading"),j.custom=Z("custom"),j.dismiss=e=>{x({type:3,toastId:e})},j.remove=e=>x({type:4,toastId:e}),j.promise=(e,t,a)=>{let s=j.loading(t.loading,{...a,...null==a?void 0:a.loading});return e.then((e=>(j.success(u(t.success,e),{id:s,...a,...null==a?void 0:a.success}),e))).catch((e=>{j.error(u(t.error,e),{id:s,...a,...null==a?void 0:a.error})})),e};var f=j,v=a(184);const I=function(){const[e,t]=(0,d.Z)([]);return(0,v.jsxs)(n.Z,{activeNavId:6,children:[(0,v.jsx)(r.Z,{title:"Categories"}),(0,v.jsx)(c.x7,{}),t&&(0,v.jsx)(o.Z,{}),!t&&0===e.length&&(0,v.jsx)(l.Z,{text:"No categories found!"}),!t&&0!==e.length&&(0,v.jsxs)("table",{children:[(0,v.jsx)(C,{}),(0,v.jsx)(E,{data:e,disableOrEnable:async e=>{await s.Z.disableOrEnableCategory(e).then((e=>{"SUCCESS"===e.data.status&&window.location.reload()}),(e=>{f.error("Failed to update category: Try again later!")}))}})]})]})};function C(){return(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Category Id"}),(0,v.jsx)("th",{children:"Category Name"}),(0,v.jsx)("th",{children:"Type"}),(0,v.jsx)("th",{children:"Enabled"}),(0,v.jsx)("th",{children:"Action"})]})}function E(e){let{data:t,disableOrEnable:a}=e;const s=(0,i.s0)();return t.map((e=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:"C"+String(e.categoryId).padStart(5,"0")}),(0,v.jsx)("td",{children:e.categoryName}),(0,v.jsx)("td",{children:e.transactionType.transactionTypeName}),e.enabled?(0,v.jsx)("td",{style:{color:"#6aa412"},children:"Enabled"}):(0,v.jsx)("td",{style:{color:"#ff0000"},children:"Disabled"}),(0,v.jsxs)("td",{style:{display:"flex",gap:"5px"},children:[(0,v.jsx)("button",{onClick:()=>{return t=e,localStorage.setItem("categoryToEdit",JSON.stringify(t)),void s("/admin/editCategory/".concat(t.categoryId));var t},children:"Edit"}),e.enabled?(0,v.jsx)("button",{onClick:()=>a(e.categoryId),style:{backgroundColor:"#ff0000"},children:"Disable"}):(0,v.jsx)("button",{onClick:()=>a(e.categoryId),style:{backgroundColor:"#6aa412"},children:"Enable"})]})]},e.categoryId)))}},2170:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(5294),r=a(6457),o=a(7081);const d={getAllTransactions:(e,t,a)=>s.Z.get(o.Z+"/transaction/getAll",{headers:r.Z.authHeader(),params:{pageNumber:e,pageSize:t,searchKey:a}}),getAllUsers:(e,t,a)=>s.Z.get(o.Z+"/user/getAll",{headers:r.Z.authHeader(),params:{pageNumber:e,pageSize:t,searchKey:a}}),disableOrEnableUser:e=>s.Z.delete(o.Z+"/user/disable",{headers:r.Z.authHeader(),params:{userId:e}}),getAllcategories:()=>s.Z.get(o.Z+"/category/getAll",{headers:r.Z.authHeader()}),addNewcategory:(e,t)=>s.Z.post(o.Z+"/category/new",{categoryName:e,transactionTypeId:t},{headers:r.Z.authHeader()}),updatecategory:(e,t,a)=>s.Z.put(o.Z+"/category/update",{categoryName:t,transactionTypeId:a},{headers:r.Z.authHeader(),params:{categoryId:e}}),disableOrEnableCategory:e=>s.Z.delete(o.Z+"/category/delete",{headers:r.Z.authHeader(),params:{categoryId:e}})}}}]);
//# sourceMappingURL=570.7af9e22e.chunk.js.map