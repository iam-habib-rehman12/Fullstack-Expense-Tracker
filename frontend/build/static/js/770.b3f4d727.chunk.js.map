{"version":3,"file":"static/js/770.b3f4d727.chunk.js","mappings":"kLAKA,MA+FA,EA/FoCA,KAChC,MAAMC,GAAWC,EAAAA,EAAAA,OAEX,MAAEC,IAAUC,EAAAA,EAAAA,OAEZ,SAACC,EAAQ,aAAEC,EAAY,UAAEC,IAAaC,EAAAA,EAAAA,OAErCC,EAAgBC,IAAoBC,EAAAA,EAAAA,UAAS,KAC7CC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IACpCG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,GA4C7C,OACEK,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UAClBC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,YAAaG,SAAUd,GA5C9Be,UACbR,GAAa,SACUS,EAAAA,EAAYC,mCAAmCC,EAAKC,MAAMC,MAC5EC,IACGC,QAAQC,IAAIF,EAASH,MACQ,YAAzBG,EAASH,KAAKM,QACdF,QAAQC,IAAIF,EAASH,MACrBvB,EAAS,8BACTS,EAAiB,KAEjBA,EAAiB,4CACrB,IAGHqB,IACG,GAAIA,EAAMJ,SAAU,CAChB,MAAMK,EAAaD,EAAMJ,SAASH,KAAKG,SACvCjB,EAAiBsB,GACjBJ,QAAQC,IAAIE,EAChB,MACIH,QAAQC,IAAIE,GACZrB,EAAiB,4CACrB,IAGRG,GAAa,EAAM,IAmB+CK,SAAA,EAC1DF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uBAAsBF,EAAAA,EAAAA,KAAA,SAEtBF,GACIK,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,oBAAkBf,EAAM,SACzB,KAAjBM,GACDU,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,2CAAuCF,EAAAA,EAAAA,KAAA,QAAMiB,MAAO,CAACC,WAAW,IAAMC,MAAM,SAASjB,SAAEf,IAAa,QACzHa,EAAAA,EAAAA,KAAAoB,EAAAA,SAAA,IAGY,KAAjB3B,IAAwBO,EAAAA,EAAAA,KAAA,KAAAE,SAAIT,KAGjCU,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACtBF,EAAAA,EAAAA,KAAA,SACAqB,YAAY,0BACRC,KAAK,UACDjC,EAAS,OAAQ,CACjBkC,SAAU,wBAGjBhC,EAAUiC,OAAOf,OAAQT,EAAAA,EAAAA,KAAA,SAAAE,SAAQX,EAAUiC,OAAOf,KAAKgB,cAG5DzB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAMgB,MAAO,CAACC,WAAY,IAAKQ,UAAW,UAAUxB,SAAC,+EACpEF,EAAAA,EAAAA,KAAA,UAEAA,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACtBF,EAAAA,EAAAA,KAAA,SAAOsB,KAAK,SAASK,MAAO/B,EAAY,YAAc,SACrDK,UAAWL,EAAY,6BAA+B,0BAI3DI,EAAAA,EAAAA,KAAA,UACAG,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,qBAAiBF,EAAAA,EAAAA,KAAA,QAAMiB,MAAO,CAACW,OAAQ,WAAYC,QAlDjExB,UACfN,GAAa,SACUO,EAAAA,EAAYwB,mCAAmC3C,GAAOuB,MACxEC,IACGC,QAAQC,IAAIF,EAASH,KAAKiB,SAC1B/B,EAAiB,GAAG,IAEvBqB,IACGrB,EAAiB,2BAA2B,IAGlDK,GAAa,EAAM,EAuCgFE,UAAU,cAAaC,SAAEN,EAAY,eAAiB,uBAEzJ,C","sources":["pages/auth/register/userRegistrationVerification.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport {useForm} from 'react-hook-form';\r\nimport AuthService from '../../../services/auth.service';\r\n\r\nconst UserRegistrationVerfication = () => {\r\n    const navigate = useNavigate();\r\n    \r\n    const { email } = useParams(); \r\n\r\n    const {register, handleSubmit, formState} = useForm();\r\n\r\n    const [response_error, setResponseError] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isSending, setIsSending] = useState(false);\r\n\r\n    const onSubmit = async (data) => {\r\n        setIsLoading(true)        \r\n        const response = await AuthService.verifyRegistrationVerificationCode(data.code).then(\r\n            (response) => {\r\n                console.log(response.data);\r\n                if (response.data.status === \"SUCCESS\") {\r\n                    console.log(response.data);\r\n                    navigate('/auth/success-registration')\r\n                    setResponseError(\"\");\r\n                }else {\r\n                    setResponseError(\"Verification failed: Cannot resend email!\")\r\n                }\r\n                \r\n            },\r\n            (error) => {\r\n                if (error.response) {\r\n                    const resMessage = error.response.data.response;\r\n                    setResponseError(resMessage);\r\n                    console.log(error);\r\n                }else {\r\n                    console.log(error);\r\n                    setResponseError(\"Verification failed: Cannot resend email!\")\r\n                }\r\n            }\r\n          );\r\n        setIsLoading(false);\r\n    }\r\n\r\n    const resendCode = async() =>{\r\n        setIsSending(true)         \r\n        const response = await AuthService.resendRegistrationVerificationCode(email).then(\r\n            (response) => {\r\n                console.log(response.data.message);\r\n                setResponseError(\"\");\r\n            },\r\n            (error) => {\r\n                setResponseError(\"cannot send email again!\");\r\n            }\r\n          );\r\n          setIsSending(false)  \r\n    }\r\n\r\n  return (\r\n    <div className='container'>\r\n            <form className=\"auth-form\"  onSubmit={handleSubmit(onSubmit)}>\r\n                <h2>Verify your email</h2><br/>\r\n                {\r\n                    isSending ? \r\n                        <div className='msg'>Sending email to {email}...</div> \r\n                        : (response_error===\"\") \r\n                        ? <div className='msg'>The verification code has been sent to <span style={{fontWeight:600,  color:'green'}}>{email}</span>.</div>\r\n                        : <></>\r\n                }\r\n                {\r\n                    (response_error!==\"\") && <p>{response_error}</p>\r\n                }\r\n                \r\n                <div className='input-box'>\r\n                    <input \r\n                    placeholder='Enter verification code'\r\n                        type='text'\r\n                        {...register('code', {\r\n                            required: \"Code is required!\",\r\n                        })}\r\n                    />\r\n                    {formState.errors.code && <small>{formState.errors.code.message}</small>}\r\n                </div>\r\n\r\n                <div className='msg' style={{fontWeight: 600, fontStyle: 'italic'}}>Please not that the verification code will be expired with in 15 minutes!</div>\r\n                <br/>\r\n\r\n                <div className='input-box'>\r\n                    <input type='submit' value={isLoading ? \"Verifying\" : 'Verify'}\r\n                     className={isLoading ? \"button button-fill loading\" : \"button button-fill\"}\r\n                    />\r\n                </div>\r\n\r\n                <br/>\r\n                <div className='msg'>Having problems? <span style={{cursor: 'pointer'}} onClick={resendCode} className='inline-link'>{isLoading ? \"Sending code\" : 'Resend code'}</span></div>\r\n            </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserRegistrationVerfication;\r\n"],"names":["UserRegistrationVerfication","navigate","useNavigate","email","useParams","register","handleSubmit","formState","useForm","response_error","setResponseError","useState","isLoading","setIsLoading","isSending","setIsSending","_jsx","className","children","_jsxs","onSubmit","async","AuthService","verifyRegistrationVerificationCode","data","code","then","response","console","log","status","error","resMessage","style","fontWeight","color","_Fragment","placeholder","type","required","errors","message","fontStyle","value","cursor","onClick","resendRegistrationVerificationCode"],"sourceRoot":""}